{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { Validators } from '@angular/forms';\nimport { Customer } from './customer';\nfunction emailMatcher(c) {\n  const emailControl = c.get(\"email\");\n  const confirmEmail = c.get(\"confirmEmail\");\n  // if(emailControl.pristine === confirmEmail.pristine){\n  //   return null;\n  // }\n  if (emailControl.value === confirmEmail.value) {\n    return null;\n  }\n  return {\n    match: true\n  };\n}\n// //Custom validator hardcoded for Rating\n// function ratingRange(c: AbstractControl): {[key:string]:boolean} | null{\n//   if (c.value!=null && (isNaN(c.value) || c.value <1 || c.value>5)) {\n//     return{'range': true};\n//   }\n//   return null;\n// }\n//Custom validator for Param\nfunction ratingRange(min, max) {\n  return c => {\n    if (c.value != null && (isNaN(c.value) || c.value < min || c.value > max)) {\n      return {\n        'range': true\n      };\n    }\n    return null;\n  };\n}\nlet CustomerComponent = class CustomerComponent {\n  constructor(fb) {\n    this.fb = fb;\n    this.customer = new Customer();\n  }\n  ngOnInit() {\n    this.customerForm = this.fb.group({\n      firstName: [\"\", [Validators.required, Validators.minLength(3)]],\n      //lastName:{value:\"n/a\",disabled:true},\n      lastName: [\"\", [Validators.required, Validators.maxLength(50)]],\n      emailGroup: this.fb.group({\n        email: [\"\", [Validators.required, Validators.email]],\n        confirmEmail: ['', Validators.required]\n      }, {\n        validator: emailMatcher\n      }),\n      phone: '',\n      notification: 'email',\n      // rating:[null,[Validators.min(1),Validators.max(5)]],\n      //rating:[null, ratingRange],\n      rating: [null, ratingRange(1, 5)],\n      sendCatalog: true\n    });\n  }\n  //   populateTestData():void{\n  //     this.customerForm.setValue({\n  //       firstName:\"Dev\",\n  //       lastName:\"Raj\",\n  //       email:\"abc@tochwood.com\",\n  // sendCatalog:false,\n  //     })\n  //   }\n  populateTestData() {\n    this.customerForm.patchValue({\n      firstName: \"Dev\",\n      lastName: \"Raj\",\n      email: \"abc@tochwood.com\",\n      sendCatalog: false\n    });\n  }\n  save() {\n    console.log(this.customerForm);\n    console.log('Saved: ' + JSON.stringify(this.customerForm));\n  }\n  setNotification(notifyVia) {\n    const phoneControl = this.customerForm.get('phone');\n    if (notifyVia === 'text') {\n      phoneControl.setValidators(Validators.required);\n    } else {\n      phoneControl.clearValidators();\n    }\n    phoneControl.updateValueAndValidity();\n  }\n};\nCustomerComponent = __decorate([Component({\n  selector: 'app-customer',\n  templateUrl: './customer.component.html',\n  styleUrls: ['./customer.component.css']\n})], CustomerComponent);\nexport { CustomerComponent };","map":null,"metadata":{},"sourceType":"module"}